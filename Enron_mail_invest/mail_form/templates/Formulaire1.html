<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Information Employé</title>
    {% load static %}  
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <div class="forms">
        <h1>Information Employé</h1>
        <form method="post" id="Form1"> <!-- formulaire Form1 de forms.py -->
            {% csrf_token %} <!--protection contre les attaques CSRF -->
            <label for="queryOption">Option de recherche</label> 
            <select id="queryOption" name="option"> <!--  pour la liste déroulante "option"  -->
                <option value="lastname">Recherche par nom</option>
                <option value="email">Recherche par email</option>
            </select>
            
            <div id="lastnameField" > 
                <label for="fields_lastname">Nom</label>
                <input type="text" name="fields_lastname" placeholder="Nom"> <!--  champs  "fields_lastname"  -->
            </div>
            <div id="emailField" > 
                <label for="fields_email">Email</label>
                <input type="text" name="fields_email" placeholder="Email"> <!--  champs  "fields_email"  -->
            </div>
            <button type="submit">Valider</button>
        </form>
    </div>

    <script>
    window.onload = function() { <!-- se déclanche une fois la page chargé _ permet d'avoir dirrectement un champs d'ouvert sans avoir à changer l'option -->
        var selectedOption = document.getElementById('queryOption').value; <!--récupère l'option sélectionné identifié par 'queryOption'-->
        toggleFields(selectedOption);  <!-- appel la fonction toggleFields avec l'option en argument -->
    };

    document.getElementById('queryOption').addEventListener('change', function() { <!-- écoute et se déclange lorsque l'oprion identifié par 'queryOption' est modifié -->
        var selectedOption = this.value;
        toggleFields(selectedOption); <!-- appel la fonction toggleFields avec l'option en argument -->
    });

    function toggleFields(selectedOption) {
        if (selectedOption === 'lastname') { <!-- si l'option selectionné est 'lastname' -->
            document.getElementById('lastnameField').style.display = 'block'; <!-- On affiche le champs identifié par lastnameField -->
            document.getElementById('emailField').style.display = 'none'; <!-- On cache le champs identifié par emailField -->
        } else if (selectedOption === 'email') {
            document.getElementById('lastnameField').style.display = 'none';
            document.getElementById('emailField').style.display = 'block';
        }
    }
    </script>

    <div class="git">
         <p><a href="https://github.com/Amugith/Projet_BDD_M1" target="_blank">GitHub du projet</a></p> 
    </div>
    <div class="top-left-buttons">
    <a class="back-previous-button" href="javascript:history.go(-1)">Retour</a>
    <a class="back-home-button" href="{% url 'home' %}">Accueil</a>
    </div>



</body>
</html>



